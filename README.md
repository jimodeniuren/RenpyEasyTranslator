# Renpy游戏rpy一键汉化工具

鉴于目前的Renpy汉化工具大多都要生成各种乱七八糟的奇怪文件导来导去，在试了各种工具之后厌倦了这种不优雅的汉化行为。

## 使用

### 1、生成翻译文件

* 确保game文件夹里有.rpy后缀的脚本文件
  * 如果没有的话，就使用UnRen等软件解包.rpa文件/反编译.rpyc文件。

* 启动Renpy引擎，并生成翻译文件：

  * 选择你想翻译的游戏（如果工程列表里没有，就在设置里重新设置一下工程目录）

  * 点击生成翻译文件
  * **千万不要勾选“为翻译生成空字串”这一栏**

  * 点击生成翻译文件

### 2、运行工具

* 在main.py的main函数里面输入你生成的翻译文件的目录，脚本会自动获取目录以及子目录下所有的待翻译rpy文件
* 安装好chrome和对应版本的chromedrive
* 运行脚本并等待翻译完成（没错就是这么简单~），运行完成后翻译结果会自动写入待翻译文件，真正做到一键翻译~

### 3、纠错与人工润色

* deepl本身并不支持【不翻译特殊字符】这样的功能，但是神奇的是大部分{i}这样的特殊字符都可以顺利翻译对，只能说是神秘调教策略了2333。但是仍然会有一些{b}{/b}这样的成对出现的字符可能在翻译过程中漏掉其中某一个，进而导致报错，这时候你要用renpy引擎的【检查脚本】的功能，可以把所有错误都找出来。
  * 使用脚本postprocess.py可以修复99%的错误，剩下来的就手动慢慢修吧。。

* 人工润色看个人喜好和时间一个一个打开润吧。。

## 关于接口

* 在这个chatgpt碾压翻译质量的当下，似乎调用openai的接口才是上上之选，但是想要快速翻译文本量巨大的作品需要大量openai账号轮询，且色色内容经常被拒绝翻译，一点也不优雅。~~才不是因为过去一年因为大量调用gpt4导致钱包大出血什么的呢~~

* 由于我本人主要是翻译英文类作品，所以最终货比三家选择了deepl的翻译作为翻译接口，deepl在英文转中文的质量上应该还算是ok的。

* 而且本着白嫖就是赚到的原则，本项目没有使用任何付费的接口，直接白嫖网页端的deepl，轻轻一点直接使用~

## 相关项目

感谢https://github.com/libudu/renpy-deepl项目的js脚本~